<!DOCTYPE html>
<html lang="cn" xmlns:th="http://www.thymeleaf.org" >
<head th:include="frame :: head">


</head>

<body onload="getCurUser()">
<script>
    var map={
        key1:'abc',
        key2:'def'
    };
    var textvalue_projectName;
    function editForm(object)
    {
        /*
        textvalue_projectName = document.getElementById("projectName").outerHTML;
        map[input_id] = document.getElementById(input_id).outerHTML;
         */
        var input_id = object.name;

        document.getElementById(input_id).style.display="none";
        document.getElementById("input_"+input_id).style.display="inline";
        document.getElementById("cancel_button_"+input_id).style.display="inline";
        document.getElementById("edit_button_"+input_id).style.display="none";

/*        document.getElementById(input_id).outerHTML="<input id='" +
                input_id +
                "' name='" +
                input_id +
                "' type='text'/>";
        document.getElementById("edit_button_"+input_id).outerHTML="<a id='edit_button_" +
                input_id +
                "' name='" +
                input_id +
                "' class='btn btn-default btn-sm' href='#'  onclick='cancelForm(this)'><i class='glyphicon glyphicon-remove-sign'></i> 取消</a>";*/

    }

    function cancelForm(object)
    {
/*


        document.getElementById(input_id).outerHTML=map[input_id];
 */
        var input_id = object.name;

        document.getElementById(input_id).style.display="inline";
        document.getElementById("input_"+input_id).style.display="none";
        document.getElementById("cancel_button_"+input_id).style.display="none";
        document.getElementById("edit_button_"+input_id).style.display="inline";

        /*document.getElementById("edit_button_"+input_id).outerHTML="<a id='edit_button_" +
                input_id +
                "' name='" +
                input_id +
                "' class='btn btn-default btn-sm' href='#'  onclick='editForm(this)'><i class='glyphicon glyphicon-cog'></i> 修改</a>";*/
    }


</script>
<!-- topbar starts -->
<div th:substituteby="frame :: navbar">

    template-navbar
</div>

<!-- topbar ends -->
<div class="ch-container">
    <div class="row">

        <!-- left menu starts -->
        <div class="col-sm-2 col-lg-2">
            <div class="sidebar-nav">
                <div class="nav-canvas">
                    <div class="nav-sm nav nav-stacked">

                    </div>
                    <ul class="nav nav-pills nav-stacked main-menu">
                        <li class="nav-header">Main</li>
                        <li><a class="ajax-link" href="index.html"><i
                                class="glyphicon glyphicon-home"></i><span> 我的项目</span></a>
                        </li>
                        <li><a class="ajax-link" href="ui.html"><i
                                class="glyphicon glyphicon-eye-open"></i><span> 全部项目</span></a>
                        </li>
                        <li><a class="ajax-link" href="form.html"><i
                                class="glyphicon glyphicon-edit"></i><span> 修改信息</span></a></li>

                        <li><a href="login.html"><i class="glyphicon glyphicon-lock"></i><span> Login Page</span></a>
                        </li>
                    </ul>
                    <label id="for-is-ajax" for="is-ajax"><input id="is-ajax" type="checkbox"> Ajax on menu</label>
                </div>
            </div>
        </div>
        <!--/span-->
        <!-- left menu ends -->

        <noscript>
            <div class="alert alert-block col-md-12">
                <h4 class="alert-heading">Warning!</h4>

                <p>You need to have <a href="http://en.wikipedia.org/wiki/JavaScript" target="_blank">JavaScript</a>
                    enabled to use this site.</p>
            </div>
        </noscript>

        <div id="content" class="col-lg-10 col-sm-10">
            <!-- content starts -->
            <div>
                <ul class="breadcrumb">
                    <li>
                        <a href="#">主页</a>
                    </li>
                    <li>
                        <a href="#">我的项目</a>
                    </li>
                </ul>
            </div>

            <div class="row">
                <div class="box col-md-12">
                    <div class="box-inner">
                        <div class="box-header well" data-original-title="">
                            <h2><i class="glyphicon glyphicon-list"></i> 项目详情</h2>

                            <div class="box-icon">
                                <a href="#" class="btn btn-setting btn-round btn-default"><i
                                        class="glyphicon glyphicon-cog"></i></a>
                                <a href="#" class="btn btn-minimize btn-round btn-default"><i
                                        class="glyphicon glyphicon-chevron-up"></i></a>
                                <a href="#" class="btn btn-close btn-round btn-default"><i
                                        class="glyphicon glyphicon-remove"></i></a>
                            </div>
                        </div>
                        <div class="box-content">
                            <form id="loginform" class="form-horizontal" method="post" th:action="@{'/update/'+${projectInfo.id}}">
                                <fieldset>
                                    <ul class="dashboard-list">
                                        <li>
                                            <a href="#">
                                                <span class="green list-title">需求名称</span>
                                                <span class="green" id="projectName" th:style="(${action}=='view')?:'display:none'" th:text="${projectInfo.projectName}?:'无'" >项目名称</span>
                                            </a>
                                            <input type="text" id="input_projectName" name="projectName" th:style="(${action}=='edit')?'display:inline':'display:none'"/>
                                            <a id="edit_button_projectName"  name="projectName" class="btn btn-default btn-sm" href="#"  onclick="editForm(this)" th:style="(${action}=='edit')?:'display:none'"><i
                                                    class="glyphicon glyphicon-cog"></i> 修改</a>
                                            <a id="cancel_button_projectName" name="projectName" class="btn btn-default btn-sm" href="#"  onclick="cancelForm(this)" style="display: none"><i
                                                    class="glyphicon glyphicon-remove-sign"></i> 取消</a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <span class="green list-title">一级项目</span>
                                                <span class="green" id="parentProjectInfo" th:style="(${action}=='view')?:'display:none'" th:text="${projectInfo.parentProjectInfo}?(${projectInfo.parentProjectInfo.parentProjectName}?:'无'):'无'" >一级项目名称</span>
                                            </a>

                                            <select id="input_parentProjectInfo" name="parentProjectId" th:style="(${action}=='edit')?'display:inline':'display:none'"
                                                    size="1" aria-controls="DataTables_Table_0">
                                                <option th:each="parentProjectInfo : ${parentProjectInfoList}" th:value="${parentProjectInfo.getId()}" th:selected="(${parentProjectInfo}==${projectInfo.parentProjectId})"
                                                    th:text="${parentProjectInfo.parentProjectName}">一级项目名称</option>
                                            </select>
                                            <a id="edit_button_parentProjectInfo" name="parentProjectInfo" class="btn btn-default btn-sm" href="#"  onclick="editForm(this)"><i
                                                    class="glyphicon glyphicon-cog"></i> 修改</a>
                                            <a id="cancel_button_parentProjectInfo" name="parentProjectInfo" class="btn btn-default btn-sm" href="#"  onclick="cancelForm(this)" style="display: none"><i
                                                    class="glyphicon glyphicon-remove-sign"></i> 取消</a>


                                        </li>
                                        <li>
                                            <a href="#">
                                                <span class="green list-title">项目类型</span>
                                                <span class="green" id="projectType" th:style="(${action}=='view')?:'display:none'" th:with="index=${projectInfo.projectType}" th:text="${projectTypeList[index].desc}" >紧急</span>
                                            </a>
                                            <select id="input_projectType" name="projectType" th:style="(${action}=='edit')?'display:inline':'display:none'"
                                                    size="1" aria-controls="DataTables_Table_0">
                                                <option th:each="projectType : ${projectTypeList}" th:value="${projectType.order}" th:selected="(${projectType.order}==${projectInfo.projectType})"
                                                        th:text="${projectType.desc}">项目类型</option>
                                            </select>
                                            <a id="edit_button_projectType" name="projectType" class="btn btn-default btn-sm" href="#"  onclick="editForm(this)"><i
                                                    class="glyphicon glyphicon-cog"></i> 修改</a>
                                            <a id="cancel_button_projectType" name="projectType" class="btn btn-default btn-sm" href="#"  onclick="cancelForm(this)" style="display: none"><i
                                                    class="glyphicon glyphicon-remove-sign"></i> 取消</a>

                                        </li>
                                        <li>
                                            <a href="#">
                                                <span class="green list-title">领域</span>
                                                <span class="green">第三方</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <span class="green list-title">处理状态</span>
                                                <span class="green">需求分析</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <span class="green list-title">工作量</span>
                                                <span class="green">14.6 人天</span>
                                            </a>
                                            <a class="btn btn-default btn-sm" href="#" onclick="editForm()"><i
                                                    class="glyphicon glyphicon-cog"></i> 修改</a>

                                        </li>
                                        <li>
                                            <a href="#">
                                                <span class="green list-title">收到需求时间</span>
                                                <span class="green">2017-08-22</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <span class="green list-title">外部任务书状态</span>
                                                <span class="green">暂无</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <span class="green list-title">内部任务书状态</span>
                                                <span class="green">已具备</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <span class="green list-title">计划联调时间</span>
                                                <span class="green">2017-09-22</span>
                                            </a>
                                        </li>
                                        <li>
                                            <button type="submit" class="btn btn-default">Submit</button>
                                        </li>
                                    </ul>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                </div>


                <!--/span-->

                <!--/div--><!--/row-->


            </div>
            <!--/span-->

            <!--/div--><!--/row-->


            <!--/div--><!--/span-->

            <!-- content ends -->
        </div><!--/#content.col-md-0-->
    </div><!--/fluid-row-->


    <hr>

    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">

        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">×</button>
                    <h3>Settings</h3>
                </div>
                <div class="modal-body">
                    <p>Here settings can be configured...</p>
                </div>
                <div class="modal-footer">
                    <a href="#" class="btn btn-default" data-dismiss="modal">Close</a>
                    <a href="#" class="btn btn-primary" data-dismiss="modal">Save changes</a>
                </div>
            </div>
        </div>
    </div>

    <footer class="row" th:substituteby="frame :: footer">
    </footer>

</div><!--/.fluid-container-->

<!-- external javascript -->

<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<!-- library for cookie management -->
<script src="js/jquery.cookie.js"></script>
<!-- calender plugin -->
<script src='bower_components/moment/min/moment.min.js'></script>
<script src='bower_components/fullcalendar/dist/fullcalendar.min.js'></script>
<!-- data table plugin -->
<script src='js/jquery.dataTables.min.js'></script>

<!-- select or dropdown enhancer -->
<script src="bower_components/chosen/chosen.jquery.min.js"></script>
<!-- plugin for gallery image view -->
<script src="bower_components/colorbox/jquery.colorbox-min.js"></script>
<!-- notification plugin -->
<script src="js/jquery.noty.js"></script>
<!-- library for making tables responsive -->
<script src="bower_components/responsive-tables/responsive-tables.js"></script>
<!-- tour plugin -->
<script src="bower_components/bootstrap-tour/build/js/bootstrap-tour.min.js"></script>
<!-- star rating plugin -->
<script src="js/jquery.raty.min.js"></script>
<!-- for iOS style toggle switch -->
<script src="js/jquery.iphone.toggle.js"></script>
<!-- autogrowing textarea plugin -->
<script src="js/jquery.autogrow-textarea.js"></script>
<!-- multiple file upload plugin -->
<script src="js/jquery.uploadify-3.1.min.js"></script>
<!-- history.js for cross-browser state change on ajax -->
<script src="js/jquery.history.js"></script>
<!-- application script for Charisma demo -->
<script src="js/charisma.js"></script>


</body>
</html>
